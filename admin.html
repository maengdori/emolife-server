<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin Login</title>
</head>
<body>
<h2>관리자 로그인</h2>

<input id="pw" type="password" placeholder="관리자 비밀번호">
<button onclick="login()">로그인</button>

<script>
const SERVER_URL = 'https://emolife-server-production.up.railway.app';

async function login() {
    const pw = document.getElementById('pw').value;
    try {
        const res = await fetch(`${SERVER_URL}/admin/login`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            credentials: 'include',
            body: JSON.stringify({ password: pw })
        });
        const data = await res.json();
        if (data.success) {
            location.href = 'admin-dashboard.html';
        } else {
            alert('비밀번호가 틀렸습니다');
        }
    } catch (err) {
        alert('로그인 실패: ' + err.message);
    }
}
</script>
</body>
</html>
